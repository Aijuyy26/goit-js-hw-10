{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet userSelectedDate;\nlet timeInterval;\n\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\n\ndocument.querySelector('.form').addEventListener('submit', event => {\n  event.preventDefault();\n  \n  const formData = new FormData(event.target);\n  const delay = formData.get('delay');\n  const state = formData.get('state');\n\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (state === \"fulfilled\") {\n        resolve(delay);\n      } else {\n        reject(delay);\n      }\n    }, delay);\n  });\n\n  promise\n    .then(value => {\n      iziToast.success({  \n        color: 'green',\n        position: \"topRight\",\n        message: `✅ Fulfilled promise in ${value}ms`\n      });\n    })\n    .catch(error => {\n      iziToast.error({ \n        color: 'red',\n        position: \"topRight\",          \n        message: `❌ Rejected promise in ${error}ms`\n      });\n    });\n});\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    try {\n      userSelectedDate = selectedDates[0];\n      const timeInterval = userSelectedDate - options.defaultDate;\n\n      if (timeInterval < 1) {\n        iziToast.error({\n          color: 'red',\n          position: 'topRight',\n          message: `Please choose a date in the future`,\n        });\n      } else {\n        startButton.disabled = false;\n      }\n    } catch (error) {\n      console.error('An error occurred:', error.message);\n    }\n  },\n};\n\nconst calendar = flatpickr('#datetime-picker', options);\nconst startButton = document.querySelector('button');\nconst showTimeElements = document.querySelectorAll('.value');\n\nstartButton.disabled = true;\n\nstartButton.addEventListener('click', () => {\n  clearInterval(countdownInterval);\n\n  dateTimeInput.disabled = true;\n\n  countdownInterval = setInterval(() => {\n    const timeRemaining = userSelectedDate - new Date();\n\n    if (timeRemaining < 1) {\n      startButton.disabled = true;\n      dateTimeInput.disabled = false;\n      clearInterval(countdownInterval);\n      return;\n    }\n\n    const timeObject = convertMs(timeRemaining);\n\n    showTimeElements[0].innerText = addLeadingZero(timeObject.days);\n    showTimeElements[1].innerText = addLeadingZero(timeObject.hours);\n    showTimeElements[2].innerText = addLeadingZero(timeObject.minutes);\n    showTimeElements[3].innerText = addLeadingZero(timeObject.seconds);\n  }, 1000);\n});\n"],"names":["userSelectedDate","addLeadingZero","value","event","formData","delay","state","resolve","reject","iziToast","error","options","selectedDates","startButton","flatpickr","showTimeElements","timeRemaining","timeObject"],"mappings":"sFAMA,IAAIA,EAGJ,SAASC,EAAeC,EAAO,CAC7B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CAEA,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAUC,GAAS,CAClEA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpCE,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAQF,EAAS,IAAI,OAAO,EAElB,IAAI,QAAQ,CAACG,EAASC,IAAW,CAC/C,WAAW,IAAM,CACXF,IAAU,YACZC,EAAQF,CAAK,EAEbG,EAAOH,CAAK,CAEf,EAAEA,CAAK,CACZ,CAAG,EAGE,KAAKH,GAAS,CACbO,EAAS,QAAQ,CACf,MAAO,QACP,SAAU,WACV,QAAS,0BAA0BP,CAAK,IAChD,CAAO,CACP,CAAK,EACA,MAAMQ,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,MACP,SAAU,WACV,QAAS,yBAAyBC,CAAK,IAC/C,CAAO,CACP,CAAK,CACL,CAAC,EAED,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,GAAI,CACFZ,EAAmBY,EAAc,CAAC,EACbZ,EAAmBW,EAAQ,YAE7B,EACjBF,EAAS,MAAM,CACb,MAAO,MACP,SAAU,WACV,QAAS,oCACnB,CAAS,EAEDI,EAAY,SAAW,EAE1B,OAAQH,EAAO,CACd,QAAQ,MAAM,qBAAsBA,EAAM,OAAO,CAClD,CACF,CACH,EAEiBI,EAAU,mBAAoBH,CAAO,EACtD,MAAME,EAAc,SAAS,cAAc,QAAQ,EAC7CE,EAAmB,SAAS,iBAAiB,QAAQ,EAE3DF,EAAY,SAAW,GAEvBA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,cAAc,iBAAiB,EAE/B,cAAc,SAAW,GAEzB,kBAAoB,YAAY,IAAM,CACpC,MAAMG,EAAgBhB,EAAmB,IAAI,KAE7C,GAAIgB,EAAgB,EAAG,CACrBH,EAAY,SAAW,GACvB,cAAc,SAAW,GACzB,cAAc,iBAAiB,EAC/B,MACD,CAED,MAAMI,EAAa,UAAUD,CAAa,EAE1CD,EAAiB,CAAC,EAAE,UAAYd,EAAegB,EAAW,IAAI,EAC9DF,EAAiB,CAAC,EAAE,UAAYd,EAAegB,EAAW,KAAK,EAC/DF,EAAiB,CAAC,EAAE,UAAYd,EAAegB,EAAW,OAAO,EACjEF,EAAiB,CAAC,EAAE,UAAYd,EAAegB,EAAW,OAAO,CAClE,EAAE,GAAI,CACT,CAAC"}